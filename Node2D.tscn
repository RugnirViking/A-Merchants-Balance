[gd_scene load_steps=43 format=2]

[ext_resource path="res://assets/player.png" type="Texture" id=1]
[ext_resource path="res://assets/background.png" type="Texture" id=2]
[ext_resource path="res://BaseGameHandler.cs" type="Script" id=3]
[ext_resource path="res://Barlow-Black.ttf" type="DynamicFontData" id=4]
[ext_resource path="res://scattermap.tres" type="MultiMesh" id=5]
[ext_resource path="res://GlassEffect.cs" type="Script" id=6]
[ext_resource path="res://assets/light.png" type="Texture" id=7]
[ext_resource path="res://assets/scatter_atlas.png" type="Texture" id=8]
[ext_resource path="res://Cityscript.cs" type="Script" id=9]
[ext_resource path="res://assets/scroll.png" type="Texture" id=10]
[ext_resource path="res://LabelPrototype.cs" type="Script" id=11]
[ext_resource path="res://assets/banner1.png" type="Texture" id=12]
[ext_resource path="res://assets/banner6.png" type="Texture" id=13]
[ext_resource path="res://assets/banner9.png" type="Texture" id=14]
[ext_resource path="res://assets/banner4.png" type="Texture" id=15]
[ext_resource path="res://assets/banner2.png" type="Texture" id=16]
[ext_resource path="res://assets/banner3.png" type="Texture" id=17]
[ext_resource path="res://assets/banner5.png" type="Texture" id=18]
[ext_resource path="res://assets/banner7.png" type="Texture" id=19]
[ext_resource path="res://assets/banner8.png" type="Texture" id=20]
[ext_resource path="res://Minimap.cs" type="Script" id=21]
[ext_resource path="res://barlowFontSize16.tres" type="DynamicFont" id=22]
[ext_resource path="res://barlowFontSize36.tres" type="DynamicFont" id=23]
[ext_resource path="res://assets/minimap.png" type="Texture" id=24]
[ext_resource path="res://sfx/GamejamTheme2.mp3" type="AudioStream" id=25]
[ext_resource path="res://sfx/click.wav" type="AudioStream" id=26]
[ext_resource path="res://SaveLoadDialog.tscn" type="PackedScene" id=27]
[ext_resource path="res://barlowFontSize12.tres" type="DynamicFont" id=28]

[sub_resource type="Shader" id=1]
code = "shader_type canvas_item;

uniform vec2 uv_offset = vec2(0.0);

void fragment() {
    // simply tile the texture at (UV + offset)
    COLOR = texture(TEXTURE, UV + uv_offset);
}
"

[sub_resource type="ShaderMaterial" id=2]
shader = SubResource( 1 )
shader_param/uv_offset = Vector2( 0, 0 )

[sub_resource type="Shader" id=6]
code = "shader_type canvas_item;

uniform sampler2D spritesheet;
uniform vec2 sheet_size = vec2(9.0, 2.0); // number of tiles across & down

void fragment() {
    vec2 tile_size = vec2(1.0) / sheet_size; // e.g., (1/9, 1/2) = size of a tile in UV units
    vec2 tile_index = COLOR.rg;              // contains normalized tile index from 0–1

    // Multiply back up to tile grid space, then snap to floor to get proper tile
    vec2 grid_coords = floor(tile_index * sheet_size);

    vec2 uv_offset = grid_coords * tile_size;
    vec2 uv = UV * tile_size + uv_offset;

    COLOR = texture(spritesheet, uv);

}
"

[sub_resource type="ShaderMaterial" id=7]
shader = SubResource( 6 )
shader_param/sheet_size = Vector2( 9, 2 )
shader_param/spritesheet = ExtResource( 8 )

[sub_resource type="StyleBoxEmpty" id=9]

[sub_resource type="DynamicFont" id=8]
font_data = ExtResource( 4 )

[sub_resource type="DynamicFont" id=10]
size = 12
font_data = ExtResource( 4 )

[sub_resource type="Shader" id=4]
code = "shader_type canvas_item;

uniform float strength        : hint_range(0.0, 1.0) = 0.3;
uniform vec2  rect_size       = vec2(0.85, 0.85); // percent of screen
uniform float corner_radius   : hint_range(0.0, 0.5) = 0.05;
uniform sampler2D reflection_tex; // Optional: light shimmer texture
uniform float time;

void fragment() {
    // UV and center offset
    vec2 uv0 = SCREEN_UV;
    vec2 pos = uv0 * 2.0 - 1.0;
    float r = length(pos);

    // === Dynamic barrel distortion ===
    float dynamic_strength = strength * (1.0 - max(rect_size.x, rect_size.y));
    vec2 distorted = pos + pos * (dynamic_strength * r * r);
    vec2 barrel_uv = clamp((distorted + 1.0) * 0.5, 0.0, 1.0);

    // === Rounded-rect pixel-space mask ===
    vec2 screen_px = vec2(1.0) / SCREEN_PIXEL_SIZE;
    vec2 center_px = (uv0 - 0.5) * screen_px;
    vec2 half_px   = rect_size * screen_px * 0.5;
    float rad_px   = corner_radius * min(screen_px.x, screen_px.y);

    vec2 d = abs(center_px) - half_px + vec2(rad_px);
    float dist = length(max(d, vec2(0.0))) - rad_px;
    float mask = step(dist, 0.0);

    // === Base color from distorted screen sample ===
    vec3 base = texture(SCREEN_TEXTURE, mix(uv0, barrel_uv, mask)).rgb;

    // === Subsurface scattering (edge glow inward) ===
    float scatter = smoothstep(rad_px * 2.0, 0.0, dist);
    vec3 subsurface = vec3(1.0, 1.0, 0.95) * scatter * 0.025;

    // === Edge lighting fade (soft rim highlight) ===
    float edgeFade = clamp(1.0 - dist / (rad_px * 2.0), 0.0, 1.0);
    vec3 edgeGlow = vec3(1.0) * edgeFade * 0.04;

    // === Directional light bias (fake bevel) ===
    vec2 dir = normalize(center_px + vec2(0.0001)); // avoid divide by zero
    float lightingBias = dot(dir, normalize(vec2(1.0, -1.0))); // bias toward bottom-right
    lightingBias = clamp(lightingBias, -1.0, 1.0);
    vec3 shading = mix(vec3(0.03), vec3(0.1), (lightingBias + 1.0) * 0.5);

    // === Optional shimmer from texture ===
    vec2 shimmer_uv = SCREEN_UV + vec2(time * 0.01, time * 0.005);
    vec3 reflection = texture(reflection_tex, shimmer_uv).rgb * 0.15;

    // === Final composite ===
    vec3 final_color = base + edgeGlow + subsurface;
	reflection = (reflection - 0.5) * 2.0; // Boost contrast to center around 0
	final_color += reflection * 0.05;   // Additive subtle reflection
    final_color *= 1.0 - shading;

	// === Frosted glass tint (outside the mask) ===
	// 9-tap blur
    vec3 blur = vec3(0.0);
	int taps = 0;
	for (int x = -1; x <= 1; x++) {
	    for (int y = -1; y <= 1; y++) {
	        vec2 offset = vec2(float(x), float(y)) * SCREEN_PIXEL_SIZE * 2.0;
	        blur += texture(SCREEN_TEXTURE, uv0 + offset).rgb;
	        taps++;
	    }
	}
	blur /= float(taps);

    // Desaturate and brighten
    float avg = (blur.r + blur.g + blur.b) / 3.0;
    vec3 frosted = mix(vec3(avg), blur, 0.2) * 1.0;
    frosted = clamp(frosted, 0.0, 1.0);

    // Smooth blend between clear and frosted
    float blend = smoothstep(-0.05, 0.05, mask - 0.5);
    final_color = mix(frosted, final_color, blend);

    COLOR = vec4(final_color, 1.0);
}
"

[sub_resource type="ShaderMaterial" id=5]
shader = SubResource( 4 )
shader_param/strength = 0.8
shader_param/rect_size = Vector2( 0.95, 0.95 )
shader_param/corner_radius = 0.05
shader_param/time = null
shader_param/reflection_tex = ExtResource( 7 )

[sub_resource type="Shader" id=13]
code = "shader_type canvas_item;

// Which side to glow from:
//   vec2(-1,0) = left edge
//   vec2( 1,0) = right edge
//   vec2(0,-1) = top edge
//   vec2(0, 1) = bottom edge
uniform vec2 side_vec = vec2(-1.0, 0.0);

// How far (in UV units) from the edge the fade reaches zero
uniform float extent  : hint_range(0.0, 1.0) = 0.2;

// How strong the glow at the edge (1.0 = full tint, 0.0 = no effect)
uniform float strength : hint_range(0.0, 1.0) = 1.0;

// The color/tint of the glow; for darkness use black (0,0,0,1)
uniform vec4 glow_color : hint_color = vec4(0.0, 0.0, 0.0, 1.0);

void fragment() {
    vec2 uv = SCREEN_UV;

    // Determine distance from the chosen edge, in 0→1:
    float d;
    if (abs(side_vec.x) > abs(side_vec.y)) {
        // Left or right edge
        if (side_vec.x > 0.0) {
            // Right edge: uv.x runs 0→1 left→right, so invert
            d = 1.0 - uv.x;
        } else {
            // Left edge
            d = uv.x;
        }
    } else {
        // Top or bottom edge
        if (side_vec.y > 0.0) {
            // Bottom edge: uv.y runs 0→1 top→bottom, so invert
            d = 1.0 - uv.y;
        } else {
            // Top edge
            d = uv.y;
        }
    }

    // Build a smooth mask: 1.0 at the edge (d=0), 0.0 at d=extent
    float mask = 1.0 - smoothstep(0.0, extent, d);

    // Apply overall strength
    float effect = mask * strength;

    // Sample what’s already on screen
    vec4 src = texture(SCREEN_TEXTURE, SCREEN_UV);

    // Mix toward your glow_color
    COLOR = mix(src, glow_color, effect * glow_color.a);
}
"

[sub_resource type="ShaderMaterial" id=15]
shader = SubResource( 13 )
shader_param/side_vec = Vector2( 1, 0 )
shader_param/extent = 0.0
shader_param/strength = 1.0
shader_param/glow_color = Color( 0, 0, 0, 1 )

[sub_resource type="ShaderMaterial" id=14]
shader = SubResource( 13 )
shader_param/side_vec = Vector2( 0, -1 )
shader_param/extent = 0.0
shader_param/strength = 1.0
shader_param/glow_color = Color( 0, 0, 0, 1 )

[sub_resource type="StyleBoxFlat" id=16]
bg_color = Color( 0.746094, 0.738565, 0.655746, 1 )

[sub_resource type="StyleBoxFlat" id=11]
bg_color = Color( 0.698039, 0.596078, 0.4, 1 )

[sub_resource type="StyleBoxFlat" id=12]
bg_color = Color( 0.619608, 0.521569, 0.32549, 1 )

[sub_resource type="StyleBoxFlat" id=13]
bg_color = Color( 0.472656, 0.371109, 0.168015, 1 )

[sub_resource type="StyleBoxFlat" id=14]
bg_color = Color( 0.671875, 0.496908, 0.146973, 1 )

[sub_resource type="StyleBoxFlat" id=15]
bg_color = Color( 0.407843, 0.847059, 0.878431, 1 )

[node name="Node2D" type="Node2D"]
script = ExtResource( 3 )

[node name="BackgroundLayer" type="CanvasLayer" parent="."]
layer = -3

[node name="Background" type="TextureRect" parent="BackgroundLayer"]
material = SubResource( 2 )
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
texture = ExtResource( 2 )
expand = true
stretch_mode = 2

[node name="ScatterLayer" type="MultiMeshInstance2D" parent="BackgroundLayer"]
material = SubResource( 7 )
multimesh = ExtResource( 5 )

[node name="LineLayer" type="CanvasLayer" parent="."]
layer = -1

[node name="TargetLine" type="Line2D" parent="LineLayer"]
width = 2.0
default_color = Color( 0.501961, 0.282353, 0.25098, 1 )
antialiased = true

[node name="CityLabels" type="Node2D" parent="."]
z_index = -2

[node name="LabelPrototype" type="NinePatchRect" parent="CityLabels"]
visible = false
margin_left = -24.0
margin_top = -41.0
margin_right = 25.0
margin_bottom = 6.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
texture = ExtResource( 10 )
region_rect = Rect2( -0.677551, -0.786526, 118.228, 112.125 )
patch_margin_left = 23
patch_margin_top = 25
patch_margin_right = 26
patch_margin_bottom = 30
script = ExtResource( 11 )

[node name="LabelPrototype2" type="PanelContainer" parent="CityLabels/LabelPrototype"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 20.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
custom_styles/panel = SubResource( 9 )

[node name="TextForLabel" type="Label" parent="CityLabels/LabelPrototype/LabelPrototype2"]
margin_top = 13.0
margin_right = 258.0
margin_bottom = 33.0
grow_horizontal = 2
grow_vertical = 2
rect_pivot_offset = Vector2( 85, 22 )
size_flags_horizontal = 2
custom_colors/font_color = Color( 0.410156, 0.30304, 0.121765, 1 )
custom_fonts/font = SubResource( 8 )
text = "LETS WRITE SOMETHING ELSE HERE"
align = 1
valign = 1
uppercase = true

[node name="CityPrompt" type="NinePatchRect" parent="."]
margin_left = 200.0
margin_top = 182.0
margin_right = 249.0
margin_bottom = 213.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
texture = ExtResource( 10 )
region_rect = Rect2( -0.677551, -0.786526, 118.228, 112.383 )
patch_margin_left = 23
patch_margin_top = 9
patch_margin_right = 26
patch_margin_bottom = 11
script = ExtResource( 11 )

[node name="LabelPrototype2" type="PanelContainer" parent="CityPrompt"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 20.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
custom_styles/panel = SubResource( 9 )

[node name="Label" type="Label" parent="CityPrompt/LabelPrototype2"]
margin_top = 8.0
margin_right = 189.0
margin_bottom = 23.0
grow_horizontal = 2
grow_vertical = 2
rect_pivot_offset = Vector2( 85, 22 )
size_flags_horizontal = 2
custom_colors/font_color = Color( 0.410156, 0.30304, 0.121765, 1 )
custom_fonts/font = SubResource( 10 )
text = "LETS WRITE SOMETHING ELSE HERE"
align = 1
valign = 1
uppercase = true

[node name="TopLeft" type="Position2D" parent="."]
position = Vector2( -1850, -1850 )

[node name="TopRight" type="Position2D" parent="."]
position = Vector2( 1900, -1850 )

[node name="BottomLeft" type="Position2D" parent="."]
position = Vector2( -1850, 1850 )

[node name="BottomRight" type="Position2D" parent="."]
position = Vector2( 1900, 1850 )

[node name="CitiesLayer" type="CanvasLayer" parent="."]
layer = -2

[node name="Libreville" type="Position2D" parent="CitiesLayer"]
position = Vector2( 121, -129 )
script = ExtResource( 9 )
bannerTex = ExtResource( 12 )

[node name="Antoniata" type="Position2D" parent="CitiesLayer"]
position = Vector2( -355, 432 )
script = ExtResource( 9 )
AtlasKey = "citymarker2"
bannerTex = ExtResource( 13 )

[node name="Connaught" type="Position2D" parent="CitiesLayer"]
position = Vector2( 449, 1012 )
script = ExtResource( 9 )
AtlasKey = "citymarker3"
FlipX = true
bannerTex = ExtResource( 19 )

[node name="Leinster" type="Position2D" parent="CitiesLayer"]
position = Vector2( 1668, 404 )
script = ExtResource( 9 )
AtlasKey = "citymarker4"
FlipX = true
bannerTex = ExtResource( 18 )

[node name="Farreach" type="Position2D" parent="CitiesLayer"]
position = Vector2( -899, -279 )
script = ExtResource( 9 )
AtlasKey = "citymarker5"
FlipX = true
bannerTex = ExtResource( 14 )

[node name="Braisewater" type="Position2D" parent="CitiesLayer"]
position = Vector2( -1115, 944 )
script = ExtResource( 9 )
AtlasKey = "citymarker6"
FlipX = true
bannerTex = ExtResource( 20 )

[node name="Towersted" type="Position2D" parent="CitiesLayer"]
position = Vector2( 1573, -362 )
script = ExtResource( 9 )
AtlasKey = "citymarker7"
FlipX = true
bannerTex = ExtResource( 16 )

[node name="Antecedent" type="Position2D" parent="CitiesLayer"]
position = Vector2( 505, -509 )
script = ExtResource( 9 )
AtlasKey = "citymarker8"
FlipX = true
bannerTex = ExtResource( 17 )

[node name="Dececedent" type="Position2D" parent="CitiesLayer"]
position = Vector2( 679, -569 )
script = ExtResource( 9 )
AtlasKey = "citymarker9"
FlipX = true
bannerTex = ExtResource( 15 )

[node name="GlassLayer" type="CanvasLayer" parent="."]

[node name="GlassEffect" type="ColorRect" parent="GlassLayer"]
material = SubResource( 5 )
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2
script = ExtResource( 6 )

[node name="MapEdgeLayer" type="CanvasLayer" parent="."]
layer = 2

[node name="XMapEdgeEffect" type="ColorRect" parent="MapEdgeLayer"]
material = SubResource( 15 )
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2
script = ExtResource( 6 )

[node name="MapEdgeLayer2" type="CanvasLayer" parent="."]
layer = 2

[node name="YMapEdgeEffect" type="ColorRect" parent="MapEdgeLayer2"]
material = SubResource( 14 )
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2
script = ExtResource( 6 )

[node name="Player" type="Sprite" parent="."]
position = Vector2( 500, 300 )
scale = Vector2( 0.984375, 1.23047 )
texture = ExtResource( 1 )

[node name="UILayer" type="CanvasLayer" parent="."]
layer = 2

[node name="Control" type="Control" parent="UILayer"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -1.0
mouse_filter = 2

[node name="Panel" type="Panel" parent="UILayer/Control"]
margin_right = 365.0
margin_bottom = 66.0
custom_styles/panel = SubResource( 16 )

[node name="HBoxContainer" type="HBoxContainer" parent="UILayer/Control/Panel"]
anchor_right = 1.0
anchor_bottom = 1.0
size_flags_horizontal = 3

[node name="Control" type="Control" parent="UILayer/Control/Panel/HBoxContainer"]
margin_right = 17.0
margin_bottom = 66.0
size_flags_horizontal = 3
size_flags_stretch_ratio = 0.1

[node name="GoldLabel" type="Label" parent="UILayer/Control/Panel/HBoxContainer"]
margin_left = 21.0
margin_top = 11.0
margin_right = 191.0
margin_bottom = 55.0
size_flags_horizontal = 3
custom_colors/font_color = Color( 0.396078, 0.298039, 0.133333, 1 )
custom_fonts/font = ExtResource( 23 )
text = "Money: 12"

[node name="Control3" type="Control" parent="UILayer/Control/Panel/HBoxContainer"]
margin_left = 195.0
margin_right = 212.0
margin_bottom = 66.0
size_flags_horizontal = 3
size_flags_stretch_ratio = 0.1

[node name="VBoxContainer" type="VBoxContainer" parent="UILayer/Control/Panel/HBoxContainer"]
margin_left = 216.0
margin_right = 343.0
margin_bottom = 66.0
size_flags_horizontal = 3
size_flags_stretch_ratio = 0.75
alignment = 1

[node name="PositonLabel" type="Label" parent="UILayer/Control/Panel/HBoxContainer/VBoxContainer"]
margin_top = 11.0
margin_right = 127.0
margin_bottom = 31.0
custom_colors/font_color = Color( 0.396078, 0.298039, 0.133333, 1 )
custom_fonts/font = ExtResource( 22 )
text = "Pos: 0,0"

[node name="TimeLabel" type="Label" parent="UILayer/Control/Panel/HBoxContainer/VBoxContainer"]
margin_top = 35.0
margin_right = 127.0
margin_bottom = 55.0
custom_colors/font_color = Color( 0.396078, 0.298039, 0.133333, 1 )
custom_fonts/font = ExtResource( 22 )
text = "Time: 12:00"

[node name="Control2" type="Control" parent="UILayer/Control/Panel/HBoxContainer"]
margin_left = 347.0
margin_right = 365.0
margin_bottom = 66.0
size_flags_horizontal = 3
size_flags_stretch_ratio = 0.1

[node name="AutosavePanel" type="Panel" parent="UILayer/Control"]
visible = false
anchor_top = 1.0
anchor_bottom = 1.0
margin_top = -43.0
margin_right = 269.0
custom_styles/panel = SubResource( 16 )

[node name="HBoxContainer" type="HBoxContainer" parent="UILayer/Control/AutosavePanel"]
anchor_right = 1.0
anchor_bottom = 1.0
size_flags_horizontal = 3

[node name="Control" type="Control" parent="UILayer/Control/AutosavePanel/HBoxContainer"]
margin_right = 6.0
margin_bottom = 44.0
size_flags_horizontal = 3
size_flags_stretch_ratio = 0.1

[node name="AutosaveLabel" type="Label" parent="UILayer/Control/AutosavePanel/HBoxContainer"]
margin_left = 10.0
margin_right = 258.0
margin_bottom = 44.0
size_flags_horizontal = 3
custom_colors/font_color = Color( 0.396078, 0.298039, 0.133333, 1 )
custom_fonts/font = ExtResource( 23 )
text = "AUTOSAVING..."

[node name="Control2" type="Control" parent="UILayer/Control/AutosavePanel/HBoxContainer"]
margin_left = 262.0
margin_right = 269.0
margin_bottom = 44.0
size_flags_horizontal = 3
size_flags_stretch_ratio = 0.1

[node name="pauseButton" type="Button" parent="UILayer"]
anchor_left = 1.0
anchor_right = 1.0
margin_left = -73.0
margin_top = 11.0
margin_right = -13.0
margin_bottom = 59.0
text = "||"

[node name="pauseMenuBackground" type="Control" parent="UILayer"]
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2
__meta__ = {
"_editor_description_": "add shader to slightly but noticeable grey out the backgrounds"
}

[node name="pauseMenu" type="PopupMenu" parent="UILayer/pauseMenuBackground"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -150.0
margin_top = -100.0
margin_right = 150.0
margin_bottom = 100.0
rect_min_size = Vector2( 300, 200 )
size_flags_stretch_ratio = 7.24
popup_exclusive = true

[node name="pauseMenuVBoxContainer" type="VBoxContainer" parent="UILayer/pauseMenuBackground/pauseMenu"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 10.0
margin_top = 10.0
margin_right = -10.0
margin_bottom = -10.0

[node name="gameVolumeHBoxContainer" type="HBoxContainer" parent="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer"]
margin_right = 280.0
margin_bottom = 32.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="gameVolume" type="Label" parent="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer/gameVolumeHBoxContainer"]
margin_right = 92.0
margin_bottom = 32.0
size_flags_horizontal = 3
size_flags_vertical = 3
size_flags_stretch_ratio = 0.5
text = "Game Volume"
autowrap = true

[node name="gameVolumeSlider" type="HSlider" parent="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer/gameVolumeHBoxContainer"]
margin_left = 96.0
margin_right = 280.0
margin_bottom = 16.0
rect_min_size = Vector2( 150, 0 )
size_flags_horizontal = 3
size_flags_vertical = 2
rounded = true
tick_count = 10
ticks_on_borders = true

[node name="soundEffectsVolumeHBoxContainer" type="HBoxContainer" parent="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer"]
margin_top = 36.0
margin_right = 280.0
margin_bottom = 69.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="soundEffectsVolume" type="Label" parent="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer/soundEffectsVolumeHBoxContainer"]
margin_right = 92.0
margin_bottom = 33.0
size_flags_horizontal = 3
size_flags_vertical = 3
size_flags_stretch_ratio = 0.5
text = "Sound Effects Volume"
autowrap = true

[node name="soundEffectsVolumeSlider" type="HSlider" parent="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer/soundEffectsVolumeHBoxContainer"]
margin_left = 96.0
margin_right = 280.0
margin_bottom = 16.0
rect_min_size = Vector2( 150, 0 )
size_flags_horizontal = 3
size_flags_vertical = 2
rounded = true
tick_count = 10
ticks_on_borders = true

[node name="ambientVolumeHBoxContainer" type="HBoxContainer" parent="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer"]
margin_top = 73.0
margin_right = 280.0
margin_bottom = 106.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="ambientVolume" type="Label" parent="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer/ambientVolumeHBoxContainer"]
margin_right = 92.0
margin_bottom = 33.0
size_flags_horizontal = 3
size_flags_vertical = 3
size_flags_stretch_ratio = 0.5
text = "Ambient Volume"
autowrap = true

[node name="ambientVolumeSlider" type="HSlider" parent="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer/ambientVolumeHBoxContainer"]
margin_left = 96.0
margin_right = 280.0
margin_bottom = 16.0
rect_min_size = Vector2( 150, 0 )
size_flags_horizontal = 3
size_flags_vertical = 2
rounded = true
tick_count = 10
ticks_on_borders = true

[node name="musicVolumeHBoxContainer" type="HBoxContainer" parent="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer"]
margin_top = 110.0
margin_right = 280.0
margin_bottom = 143.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="musicVolume" type="Label" parent="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer/musicVolumeHBoxContainer"]
margin_right = 92.0
margin_bottom = 33.0
size_flags_horizontal = 3
size_flags_vertical = 3
size_flags_stretch_ratio = 0.5
text = "Music Volume"
autowrap = true

[node name="musicVolumeSlider" type="HSlider" parent="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer/musicVolumeHBoxContainer"]
margin_left = 96.0
margin_right = 280.0
margin_bottom = 16.0
rect_min_size = Vector2( 150, 0 )
size_flags_horizontal = 3
size_flags_vertical = 2
rounded = true
tick_count = 10
ticks_on_borders = true

[node name="gameVolumeHBoxContainer2" type="HBoxContainer" parent="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer"]
margin_top = 147.0
margin_right = 280.0
margin_bottom = 180.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="quitButton" type="Button" parent="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer/gameVolumeHBoxContainer2"]
margin_right = 98.0
margin_bottom = 33.0
size_flags_horizontal = 3
size_flags_vertical = 3
size_flags_stretch_ratio = 0.5
text = "Quit to menu"

[node name="saveLoadButton" type="Button" parent="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer/gameVolumeHBoxContainer2"]
margin_left = 102.0
margin_right = 189.0
margin_bottom = 33.0
size_flags_horizontal = 3
size_flags_vertical = 3
size_flags_stretch_ratio = 0.5
text = "Save/load"

[node name="resumeButton" type="Button" parent="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer/gameVolumeHBoxContainer2"]
margin_left = 193.0
margin_right = 280.0
margin_bottom = 33.0
size_flags_horizontal = 3
size_flags_vertical = 3
size_flags_stretch_ratio = 0.5
text = "Resume"

[node name="inventoryScreen" type="Control" parent="UILayer"]
visible = false
anchor_right = 1.0
anchor_bottom = 1.0

[node name="inventoryScreenBackground" type="Panel" parent="UILayer/inventoryScreen"]
anchor_right = 1.0
anchor_bottom = 1.0
custom_styles/panel = SubResource( 11 )

[node name="playerInfoBackground" type="Panel" parent="UILayer/inventoryScreen/inventoryScreenBackground"]
anchor_left = 0.00683594
anchor_top = 0.01
anchor_right = 0.21875
anchor_bottom = 0.991667
custom_styles/panel = SubResource( 12 )
__meta__ = {
"_edit_use_anchors_": true
}

[node name="itemListBackground" type="Panel" parent="UILayer/inventoryScreen/inventoryScreenBackground"]
anchor_left = 0.226563
anchor_top = 0.01
anchor_right = 0.84375
anchor_bottom = 0.991667
custom_styles/panel = SubResource( 13 )
__meta__ = {
"_edit_use_anchors_": true
}

[node name="ItemList" type="ItemList" parent="UILayer/inventoryScreen/inventoryScreenBackground/itemListBackground"]
anchor_top = 0.00848896
anchor_right = 1.0
anchor_bottom = 0.994907
select_mode = 1
__meta__ = {
"_edit_use_anchors_": true
}

[node name="questListBackground" type="Panel" parent="UILayer/inventoryScreen/inventoryScreenBackground"]
anchor_left = 0.847656
anchor_top = 0.01
anchor_right = 0.992188
anchor_bottom = 0.64
custom_styles/panel = SubResource( 14 )
__meta__ = {
"_edit_use_anchors_": true
}

[node name="questItemList" type="ItemList" parent="UILayer/inventoryScreen/inventoryScreenBackground/questListBackground"]
anchor_top = 0.0687831
anchor_right = 1.0
anchor_bottom = 0.978836
max_text_lines = 4
auto_height = true
max_columns = 3
__meta__ = {
"_edit_use_anchors_": true
}

[node name="VBoxContainer" type="VBoxContainer" parent="UILayer/inventoryScreen/inventoryScreenBackground/questListBackground/questItemList"]
anchor_right = 1.0
anchor_bottom = 0.194767
hint_tooltip = "Right-click for detailed information"
size_flags_horizontal = 3
__meta__ = {
"_edit_use_anchors_": true
}

[node name="exampleQuestName" type="Label" parent="UILayer/inventoryScreen/inventoryScreenBackground/questListBackground/questItemList/VBoxContainer"]
margin_right = 148.0
margin_bottom = 41.0
size_flags_horizontal = 3
size_flags_vertical = 3
custom_fonts/font = ExtResource( 12 )
text = "Ale desperately needed"
align = 1
valign = 3
autowrap = true
uppercase = true

[node name="questHBoxContainer" type="HBoxContainer" parent="UILayer/inventoryScreen/inventoryScreenBackground/questListBackground/questItemList/VBoxContainer"]
margin_top = 45.0
margin_right = 148.0
margin_bottom = 67.0
__meta__ = {
"_edit_use_anchors_": true
}

[node name="exampleQuestDestination" type="LineEdit" parent="UILayer/inventoryScreen/inventoryScreenBackground/questListBackground/questItemList/VBoxContainer/questHBoxContainer"]
margin_right = 96.0
margin_bottom = 22.0
size_flags_horizontal = 3
size_flags_vertical = 3
custom_fonts/font = ExtResource( 14 )
text = "Buggerton"
align = 1

[node name="exampleQuestTimeLeft" type="LineEdit" parent="UILayer/inventoryScreen/inventoryScreenBackground/questListBackground/questItemList/VBoxContainer/questHBoxContainer"]
margin_left = 100.0
margin_right = 148.0
margin_bottom = 22.0
size_flags_horizontal = 3
size_flags_vertical = 3
size_flags_stretch_ratio = 0.5
custom_fonts/font = ExtResource( 14 )
text = "3 days"

[node name="questLog" type="Label" parent="UILayer/inventoryScreen/inventoryScreenBackground/questListBackground"]
anchor_right = 1.0
anchor_bottom = 0.0687831
custom_fonts/font = ExtResource( 13 )
text = "Quest Log"
align = 1
__meta__ = {
"_edit_use_anchors_": true
}

[node name="timeControlBackground" type="Panel" parent="UILayer/inventoryScreen/inventoryScreenBackground"]
anchor_left = 0.847656
anchor_top = 0.653333
anchor_right = 0.992188
anchor_bottom = 0.733333
margin_top = 3.05176e-05
custom_styles/panel = SubResource( 15 )
__meta__ = {
"_edit_use_anchors_": true
}

[node name="Minimap" type="Control" parent="UILayer"]
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -156.0
margin_top = -156.0
mouse_filter = 1
script = ExtResource( 21 )

[node name="ColorRect2" type="ColorRect" parent="UILayer/Minimap"]
anchor_right = 1.0
anchor_bottom = 1.0
color = Color( 0.752941, 0.737255, 0.678431, 1 )

[node name="ColorRect" type="ColorRect" parent="UILayer/Minimap"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 5.0
margin_top = 5.0
color = Color( 0.819608, 0.807843, 0.764706, 1 )

[node name="ColorRect3" type="TextureRect" parent="UILayer/Minimap"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 5.0
margin_top = 5.0
texture = ExtResource( 24 )
expand = true

[node name="CitiesContainer" type="Control" parent="UILayer/Minimap"]
margin_right = 40.0
margin_bottom = 40.0

[node name="PlayerDot" type="ColorRect" parent="UILayer/Minimap"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -2.5
margin_top = -2.5
margin_right = 2.5
margin_bottom = 2.5
color = Color( 0.156863, 0.717647, 0.909804, 1 )

[node name="SaveLoadDialog" parent="UILayer" instance=ExtResource( 27 )]
margin_left = 55.0
margin_top = 55.0
margin_right = -37.0
margin_bottom = -77.0

[node name="BGMPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 25 )
autoplay = true

[node name="ConfirmationSound" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 26 )

[connection signal="pressed" from="UILayer/pauseButton" to="." method="_on_pauseButton_pressed"]
[connection signal="value_changed" from="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer/gameVolumeHBoxContainer/gameVolumeSlider" to="." method="_on_gameVolumeSlider_value_changed"]
[connection signal="value_changed" from="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer/soundEffectsVolumeHBoxContainer/soundEffectsVolumeSlider" to="." method="_on_soundEffectsVolumeSlider_value_changed"]
[connection signal="value_changed" from="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer/ambientVolumeHBoxContainer/ambientVolumeSlider" to="." method="_on_ambientVolumeSlider_value_changed"]
[connection signal="value_changed" from="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer/musicVolumeHBoxContainer/musicVolumeSlider" to="." method="_on_musicVolumeSlider_value_changed"]
[connection signal="pressed" from="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer/gameVolumeHBoxContainer2/quitButton" to="." method="_on_quitButton_pressed"]
[connection signal="pressed" from="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer/gameVolumeHBoxContainer2/saveLoadButton" to="." method="_on_saveLoadButton_pressed"]
[connection signal="pressed" from="UILayer/pauseMenuBackground/pauseMenu/pauseMenuVBoxContainer/gameVolumeHBoxContainer2/resumeButton" to="." method="_on_resumeButton_pressed"]
[connection signal="mouse_exited" from="UILayer/Minimap/ColorRect2" to="." method="_on_ColorRect2_mouse_exited"]
